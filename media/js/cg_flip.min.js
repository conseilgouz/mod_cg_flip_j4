/**
 * @package CG Flip Module
 * @version 2.4.3
 * @license https://www.gnu.org/licenses/gpl-3.0.html GNU/GPL
 * @copyright (c) 2024 ConseilGouz. All Rights Reserved.
 * @author ConseilGouz 
 */
var $timestp=0;function go_flip(e,t,a,n){var i=".cg_flip_"+t,o=a.ratio,s=e(i+" #magazine-viewport").outerWidth(!0),g=s<768,r=s*o/2;if("dir"==a.type||"files"==a.type)var c=a.files;else{c=[];e(i+" .cg_flip_article").each((function(){c.push(e(this).html())}))}if(e(i+" .cg_flip_menu").click((function(){return e(i+" #cg_aide").hasClass("cg_show")?e(i+" #cg_aide").removeClass("cg_show"):e(i+" #cg_aide").addClass("cg_show"),!1})),e(i+" #cg_aide").click((function(){e(i+" #cg_aide").removeClass("cg_show")})),e(i+" .magazine").turn({elevation:50,acceleration:!isChrome(),gradients:!0,autoCenter:!0,pages:parseInt(a.nbpages),display:"double",height:r,when:{turning:function(t,a,n){var o=e(this);o.turn("page"),o.turn("pages");e(i+" #cg_flip_page").text(a)},turned:function(t,n,o){e(this).turn("center"),1==n&&e(this).turn("peel","br"),e(i+" .go_page").click((function(){$page=e(this).attr("data-page"),i=".cg_flip_"+e(this).attr("data-id"),e(i+" .magazine").turn("page",$page)})),"false"!=a.clickpage&&e(i+" #magazine-viewport").outerWidth(!0)>767&&o.forEach((function(t){e(i+" .page.p"+t).off("click"),e(i+" .page.p"+t).click((function(n){e(i+" .magazine").turn("zoom")>1||(e(i+" #cg_page").hasClass("ison-doc")?(t=this.parentNode.parentNode.getAttribute("page"),e(i+" #cg_zoom_in").addClass("cg_hide"),e(i+" .magazine").turn("display","single"),$turn_options=e(i+" .magazine").turn("options"),e(i+" .magazine").turn("size",$turn_options.width,2*$turn_options.height),e(i+" #cg_page").removeClass("ison-doc").addClass("ison-book-open"),e(i+" #cg_page").attr({title:a.twopages}),e(i+" .magazine").turn("page",t).turn("stop")):(e(i+" #cg_zoom_in").removeClass("cg_hide"),e(i+" .magazine").turn("display","double"),$turn_options=e(i+" .magazine").turn("options"),e(i+" .magazine").turn("size",$turn_options.width,$turn_options.height),e(i+" #cg_page").removeClass("ison-book-open").addClass("ison-doc"),e(i+" #cg_page").attr({title:a.onepage}),e(i+" .magazine").css("height:"+$turn_options.height),e(i+" .magazine-viewport").css("height:"+$turn_options.height)))}))}))},missing:function(t,n){if("dir"==a.type||"files"==a.type)for(var i=0;i<n.length;i++)addPage(n[i],e(this),a.base,c[n[i]-1],a.zoom,a.magnify);else for(i=0;i<c.length;i++)e(this).turn("addPage",c[i],i+1)}}}),e(window).keydown((function(t){switch(t.keyCode){case 36:e(i+" .magazine").turn("page",1),t.preventDefault();break;case 37:case 33:e(i+" .magazine").turn("previous"),t.preventDefault();break;case 39:case 34:e(i+" .magazine").turn("next"),t.preventDefault();break;case 35:e(i+" .magazine").turn("page",e(i+" .magazine").turn("pages")),t.preventDefault();break;case 106:case 220:if(e(i+" #cg_onepage").hasClass("cg_hide"))return t.preventDefault(),!0;e(i+" #cg_page").hasClass("ison-doc")?(e(i+" #cg_zoom_in").addClass("cg_hide"),e(i+" .magazine").turn("display","single"),$turn_options=e(i+" .magazine").turn("options"),e(i+" .magazine").turn("size",$turn_options.width,2*$turn_options.height),e(i+" #cg_page").removeClass("ison-doc").addClass("ison-book-open"),e(i+" #cg_page").attr({title:a.twopages}),"3"==a.zoom&&(imgs=document.querySelectorAll("img.zoom"),imgs.forEach((function(e){e.dispatchEvent(new Event("wheelzoom.destroy"))})),wheelzoom(document.querySelectorAll("img.zoom")))):(e(i+" #cg_zoom_in").removeClass("cg_hide"),e(i+" .magazine").turn("display","double"),$turn_options=e(i+" .magazine").turn("options"),e(i+" .magazine").turn("size",$turn_options.width,$turn_options.height),e(i+" #cg_page").removeClass("ison-book-open").addClass("ison-doc"),e(i+" #cg_page").attr({title:a.onepage}),e(i+" .magazine").css("height:"+$turn_options.height),e(i+" .magazine-viewport").css("height:"+$turn_options.height),"3"==a.zoom&&(imgs=document.querySelectorAll("img.zoom"),imgs.forEach((function(e){e.dispatchEvent(new Event("wheelzoom.destroy"))})),wheelzoom(document.querySelectorAll("img.zoom")))),t.preventDefault()}})),e(i+" .go_page").click((function(){$page=e(this).attr("data-page"),i=".cg_flip_"+e(this).attr("data-id"),e(i+" .magazine").turn("page",$page)})),e(i+" .cg_first").click((function(){i=".cg_flip_"+e(this).attr("data-id"),e(i+" .magazine").turn("page",1)})),e(i+" .cg_prev").click((function(t){i=".cg_flip_"+e(this).attr("data-id"),e(i+" .magazine").turn("previous")})),e(i+" .cg_next").click((function(t){i=".cg_flip_"+e(this).attr("data-id"),e(i+" .magazine").turn("next")})),e(i+" .cg_last").click((function(){i=".cg_flip_"+e(this).attr("data-id"),e(i+" .magazine").turn("page",e(i+" .magazine").turn("pages"))})),e(i+" #cg_page").click((function(){e(i+" #cg_page").hasClass("ison-doc")?(e(i+" .magazine").turn("display","single"),$turn_options=e(i+" .magazine").turn("options"),e(i+" .magazine").turn("size",$turn_options.width,2*$turn_options.height),e(i+" .magazine-viewport").addClass("double"),e(i+" #cg_page").removeClass("ison-doc").addClass("ison-book-open"),e(i+" #cg_page").attr({title:a.twopages}),"3"==a.zoom&&(imgs=document.querySelectorAll("img.zoom"),imgs.forEach((function(e){e.dispatchEvent(new Event("wheelzoom.destroy"))})),wheelzoom(document.querySelectorAll("img.zoom")))):(e(i+" .magazine").turn("display","double"),$turn_options=e(i+" .magazine").turn("options"),e(i+" .magazine").turn("size",$turn_options.width,$turn_options.height),e(i+" #cg_page").removeClass("ison-book-open").addClass("ison-doc"),e(i+" #cg_page").attr({title:a.onepage}),e(i+" .magazine-viewport").removeClass("double"),e(i+" .magazine").css("height:"+$turn_options.height),e(i+" .magazine-viewport").css("height:"+$turn_options.height),"3"==a.zoom&&(imgs=document.querySelectorAll("img.zoom"),imgs.forEach((function(e){e.dispatchEvent(new Event("wheelzoom.destroy"))})),wheelzoom(document.querySelectorAll("img.zoom"))))})),e(window).resize((function(){resizeViewport(i)})).bind("orientationchange",(function(){resizeViewport(i)})),("single"==a.init||g&&"single"==a.init_phone)&&(e(i+" .magazine").addClass("animated"),e(i+" .magazine").turn("display","single"),$turn_options=e(i+" .magazine").turn("options"),e(i+" .magazine").turn("size",$turn_options.width,2*$turn_options.height),e(i+" .magazine-viewport").addClass("double"),e(i+" #cg_page").removeClass("ison-doc").addClass("ison-book-open"),e(i+" #cg_page").attr({title:a.twopages})),"true"==a.auto){var p=setInterval(u,parseInt(a.auto_delay));e(i).mouseenter((function(){clearInterval(p)})).mouseleave((function(){p=setInterval(u,parseInt(a.auto_delay))}))}function u(){$max=e(i+" .magazine").turn("pages"),$curr=e(i+" .magazine").turn("page"),$curr==$max?e(i+" .magazine").turn("page",1):e(i+" .magazine").turn("next")}}jQuery(document).ready((function(e){e(".cg_flip_main").each((function(){var t=e(this).attr("data");if("undefined"==typeof Joomla||void 0===Joomla.getOptions);else var a=Joomla.getOptions("cg_flip_"+t);void 0!==a&&go_flip(e,t,a,!1)}))}));