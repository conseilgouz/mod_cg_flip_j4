/**
 * @package CG Flip Module
 * @version 2.4.6
 * @license https://www.gnu.org/licenses/gpl-3.0.html GNU/GPL
 * @copyright (c) 2024 ConseilGouz. All Rights Reserved.
 * @author ConseilGouz 
 */
var $timestp=0;function go_flip(e,t,a,i){var n=".cg_flip_"+t,o=a.ratio,s=e(n+" #magazine-viewport").outerWidth(!0),g="phone"==a.device,r=s*o/2;if(g&&(a.zoom="0"),"dir"==a.type||"files"==a.type)var c=a.files;else{c=[];e(n+" .cg_flip_article").each((function(){c.push(e(this).html())}))}if(e(n+" .cg_flip_menu").click((function(){return e(n+" #cg_aide").hasClass("cg_show")?e(n+" #cg_aide").removeClass("cg_show"):e(n+" #cg_aide").addClass("cg_show"),!1})),e(n+" #cg_aide").click((function(){e(n+" #cg_aide").removeClass("cg_show")})),e(n+" .magazine").turn({elevation:50,acceleration:!isChrome(),gradients:!0,autoCenter:!0,pages:parseInt(a.nbpages),display:"double",height:r,when:{turning:function(t,a,i){var o=e(this);o.turn("page"),o.turn("pages");e(n+" #cg_flip_page").text(a)},turned:function(t,i,o){e(this).turn("center"),1==i&&e(this).turn("peel","br"),e(n+" .go_page").click((function(){$page=e(this).attr("data-page"),n=".cg_flip_"+e(this).attr("data-id"),e(n+" .magazine").turn("page",$page)})),"false"!=a.clickpage&&e(n+" #magazine-viewport").outerWidth(!0)>767&&o.forEach((function(t){e(n+" .page.p"+t).off("click"),e(n+" .page.p"+t).click((function(i){e(n+" .magazine").turn("zoom")>1||(e(n+" #cg_page").hasClass("ison-doc")?(t=this.parentNode.parentNode.getAttribute("page"),e(n+" #cg_zoom_in").addClass("cg_hide"),e(n+" .magazine").turn("display","single"),e(n+" .magazine-viewport").addClass("single"),$turn_options=e(n+" .magazine").turn("options"),e(n+" .magazine").turn("size",$turn_options.width,2*$turn_options.height),e(n+" #cg_page").removeClass("ison-doc").addClass("ison-book-open"),e(n+" #cg_page").attr({title:a.twopages}),e(n+" .magazine").turn("page",t).turn("stop")):(e(n+" #cg_zoom_in").removeClass("cg_hide"),e(n+" .magazine").turn("display","double"),$turn_options=e(n+" .magazine").turn("options"),e(n+" .magazine").turn("size",$turn_options.width,$turn_options.height),e(n+" #cg_page").removeClass("ison-book-open").addClass("ison-doc"),e(n+" #cg_page").attr({title:a.onepage}),e(n+" .magazine").css("height:"+$turn_options.height),e(n+" .magazine-viewport").removeClass("single"),e(n+" .magazine-viewport").css("height:"+$turn_options.height)))}))}))},missing:function(t,i){if("dir"==a.type||"files"==a.type)for(var n=0;n<i.length;n++)addPage(i[n],e(this),a.base,c[i[n]-1],a.zoom,a.magnify);else for(n=0;n<c.length;n++)e(this).turn("addPage",c[n],n+1)}}}),e(window).keydown((function(t){switch(t.keyCode){case 36:e(n+" .magazine").turn("page",1),t.preventDefault();break;case 37:case 33:e(n+" .magazine").turn("previous"),t.preventDefault();break;case 39:case 34:e(n+" .magazine").turn("next"),t.preventDefault();break;case 35:e(n+" .magazine").turn("page",e(n+" .magazine").turn("pages")),t.preventDefault();break;case 106:case 220:if(e(n+" #cg_onepage").hasClass("cg_hide"))return t.preventDefault(),!0;e(n+" #cg_page").hasClass("ison-doc")?(e(n+" #cg_zoom_in").addClass("cg_hide"),e(n+" .magazine").turn("display","single"),$turn_options=e(n+" .magazine").turn("options"),e(n+" .magazine-viewport").addClass("single"),e(n+" .magazine").turn("size",$turn_options.width,2*$turn_options.height),e(n+" #cg_page").removeClass("ison-doc").addClass("ison-book-open"),e(n+" #cg_page").attr({title:a.twopages}),"3"==a.zoom&&(imgs=document.querySelectorAll("img.zoom"),imgs.forEach((function(e){e.dispatchEvent(new Event("wheelzoom.destroy"))})),wheelzoom(document.querySelectorAll("img.zoom")))):(e(n+" #cg_zoom_in").removeClass("cg_hide"),e(n+" .magazine").turn("display","double"),$turn_options=e(n+" .magazine").turn("options"),e(n+" .magazine").turn("size",$turn_options.width,$turn_options.height),e(n+" #cg_page").removeClass("ison-book-open").addClass("ison-doc"),e(n+" #cg_page").attr({title:a.onepage}),e(n+" .magazine").css("height:"+$turn_options.height),e(n+" .magazine-viewport").css("height:"+$turn_options.height),e(n+" .magazine-viewport").removeClass("single"),"3"==a.zoom&&(imgs=document.querySelectorAll("img.zoom"),imgs.forEach((function(e){e.dispatchEvent(new Event("wheelzoom.destroy"))})),wheelzoom(document.querySelectorAll("img.zoom")))),t.preventDefault()}})),e(n+" .go_page").click((function(){$page=e(this).attr("data-page"),n=".cg_flip_"+e(this).attr("data-id"),e(n+" .magazine").turn("page",$page)})),e(n+" .cg_first").click((function(){n=".cg_flip_"+e(this).attr("data-id"),e(n+" .magazine").turn("page",1)})),e(n+" .cg_prev").click((function(t){n=".cg_flip_"+e(this).attr("data-id"),e(n+" .magazine").turn("previous")})),e(n+" .cg_next").click((function(t){n=".cg_flip_"+e(this).attr("data-id"),e(n+" .magazine").turn("next")})),e(n+" .cg_last").click((function(){n=".cg_flip_"+e(this).attr("data-id"),e(n+" .magazine").turn("page",e(n+" .magazine").turn("pages"))})),e(n+" #cg_page").click((function(){e(n+" #cg_page").hasClass("ison-doc")?(e(n+" .magazine").turn("display","single"),$turn_options=e(n+" .magazine").turn("options"),e(n+" .magazine").turn("size",$turn_options.width,2*$turn_options.height),e(n+" .magazine-viewport").addClass("single"),e(n+" #cg_page").removeClass("ison-doc").addClass("ison-book-open"),e(n+" #cg_page").attr({title:a.twopages}),"3"==a.zoom&&(imgs=document.querySelectorAll("img.zoom"),imgs.forEach((function(e){e.dispatchEvent(new Event("wheelzoom.destroy"))})),wheelzoom(document.querySelectorAll("img.zoom")))):(e(n+" .magazine").turn("display","double"),$turn_options=e(n+" .magazine").turn("options"),e(n+" .magazine").turn("size",$turn_options.width,$turn_options.height),e(n+" #cg_page").removeClass("ison-book-open").addClass("ison-doc"),e(n+" #cg_page").attr({title:a.onepage}),e(n+" .magazine-viewport").removeClass("single"),e(n+" .magazine").css("height:"+$turn_options.height),e(n+" .magazine-viewport").css("height:"+$turn_options.height),"3"==a.zoom&&(imgs=document.querySelectorAll("img.zoom"),imgs.forEach((function(e){e.dispatchEvent(new Event("wheelzoom.destroy"))})),wheelzoom(document.querySelectorAll("img.zoom"))))})),e(window).resize((function(){resizeViewport(n,o)})).bind("orientationchange",(function(){resizeViewport(n,o)})),("single"==a.init||g&&"single"==a.init_phone)&&(e(n+" .magazine").addClass("animated"),e(n+" .magazine").turn("display","single"),$turn_options=e(n+" .magazine").turn("options"),e(n+" .magazine").turn("size",$turn_options.width,2*$turn_options.height),e(n+" .magazine-viewport").addClass("single"),e(n+" #cg_page").removeClass("ison-doc").addClass("ison-book-open"),e(n+" #cg_page").attr({title:a.twopages})),"true"==a.auto){var p=setInterval(l,parseInt(a.auto_delay));e(n).mouseenter((function(){clearInterval(p)})).mouseleave((function(){p=setInterval(l,parseInt(a.auto_delay))}))}function l(){$max=e(n+" .magazine").turn("pages"),$curr=e(n+" .magazine").turn("page"),$curr==$max?e(n+" .magazine").turn("page",1):e(n+" .magazine").turn("next")}}jQuery(document).ready((function(e){e(".cg_flip_main").each((function(){var t=e(this).attr("data");if("undefined"==typeof Joomla||void 0===Joomla.getOptions);else var a=Joomla.getOptions("cg_flip_"+t);void 0!==a&&go_flip(e,t,a,!1)}))}));