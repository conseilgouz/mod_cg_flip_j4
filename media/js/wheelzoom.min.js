/*
 * @package CG Flip Module
 * @version 2.4.9
 * @license https://www.gnu.org/licenses/gpl-3.0.html GNU/GPL
 * @copyright (c) 2024 ConseilGouz. All Rights Reserved.
 * @author ConseilGouz 

	from Wheelzoom 4.0.2 : updated Pascal : wrong img width/height if 100% in CSS
	license: MIT
	https://www.jacklmoore.com/wheelzoom
*/
window.wheelzoom=function(){var e={zoom:.1,maxZoom:!1,initialZoom:1,initialX:.5,initialY:.5},t=function(t,n){if(t&&t.nodeName&&"IMG"===t.nodeName){var o,a,i,r,d,m,u,s,l={},c=function(e){t.removeEventListener("wheelzoom.destroy",c),t.removeEventListener("wheelzoom.reset",p),t.removeEventListener("load",b),t.removeEventListener("mouseup",f),t.removeEventListener("mousemove",w),t.removeEventListener("mousedown",h),t.removeEventListener("wheel",v),t.style.backgroundImage=e.backgroundImage,t.style.backgroundRepeat=e.backgroundRepeat,t.src=e.src}.bind(null,{backgroundImage:t.style.backgroundImage,backgroundRepeat:t.style.backgroundRepeat,src:t.src});t.addEventListener("wheelzoom.destroy",c),n=n||{},Object.keys(e).forEach(function(t){l[t]=void 0!==n[t]?n[t]:e[t]}),t.complete&&b(),t.addEventListener("load",b)}function g(){d>0?d=0:d<o-i&&(d=o-i),m>0?m=0:m<a-r&&(m=a-r),t.style.backgroundSize=i+"px "+r+"px",t.style.backgroundPosition=d+"px "+m+"px"}function p(){i=o,r=a,d=m=0,g()}function v(e){var n=0;e.preventDefault(),e.deltaY?n=e.deltaY:e.wheelDelta&&(n=-e.wheelDelta);var u=t.getBoundingClientRect(),s=e.pageX-u.left-window.pageXOffset,c=e.pageY-u.top-window.pageYOffset,v=(s-d)/i,w=(c-m)/r;n<0?(i+=i*l.zoom,r+=r*l.zoom):(i-=i*l.zoom,r-=r*l.zoom),l.maxZoom&&(i=Math.min(o*l.maxZoom,i),r=Math.min(a*l.maxZoom,r)),d=s-i*v,m=c-r*w,i<=o||r<=a?p():g()}function w(e){e.preventDefault(),d+=e.pageX-u.pageX,m+=e.pageY-u.pageY,u=e,g()}function f(){document.removeEventListener("mouseup",f),document.removeEventListener("mousemove",w)}function h(e){e.preventDefault(),u=e,document.addEventListener("mousemove",w),document.addEventListener("mouseup",f)}function b(){var e=Math.max(l.initialZoom,1);if(t.src!==s){var n=window.getComputedStyle(t,null);o=n.width.indexOf("%")>0?parseInt(window.getComputedStyle(t.parentNode,null).width,10):parseInt(n.width,10),a=n.height.indexOf("%")>0?parseInt(window.getComputedStyle(t.parentNode,null).height,10):parseInt(n.height,10),r=a*e,d=-((i=o*e)-o)*l.initialX,m=-(r-a)*l.initialY,function(e){e.style.backgroundRepeat="no-repeat",e.style.backgroundImage='url("'+e.src+'")',s="data:image/svg+xml;base64,"+window.btoa('<svg xmlns="http://www.w3.org/2000/svg" width="'+e.naturalWidth+'" height="'+e.naturalHeight+'"></svg>'),e.src=s}(t),t.style.backgroundSize=i+"px "+r+"px",t.style.backgroundPosition=d+"px "+m+"px",t.addEventListener("wheelzoom.reset",p),t.addEventListener("wheel",v),t.addEventListener("mousedown",h)}}};return"function"!=typeof window.btoa?function(e){return e}:function(e,n){return e&&e.length?Array.prototype.forEach.call(e,function(e){t(e,n)}):e&&e.nodeName&&t(e,n),e}}();